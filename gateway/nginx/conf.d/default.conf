
upstream pizzaApi {
  server        168.62.49.228:5006;
}

server {
    listen       80;

    location /pizza {
            proxy_pass  http://pizzaApi/api/v1/pizzabff;
            proxy_http_version 1.1;
            proxy_set_header   Upgrade $http_upgrade;
            proxy_set_header   Connection keep-alive;
            proxy_set_header   Host $host;
            proxy_cache_bypass $http_upgrade;
            proxy_set_header X-Forwarded-For $remote_addr;
            proxy_set_header X-Original-For $server_addr;
            
    }

    location /pizza/manage {
            proxy_pass  http://pizzaApi/api/v1/manage;
            proxy_http_version 1.1;
            proxy_set_header   Upgrade $http_upgrade;
            proxy_set_header   Connection keep-alive;
            proxy_set_header   Host $host;
            proxy_cache_bypass $http_upgrade;
            proxy_set_header X-Forwarded-For $remote_addr;
            proxy_set_header X-Original-For $server_addr;
    }
}